[tox]
minversion = 3.18.0
envlist = py{38,39,310,311,312}, pycodestyle{38,39,310,311,312}, pydocstyle{38,39,310,311,312}

[testenv]
usedevelop = True
install_command = pip install {opts} {packages}
deps = -c{toxinidir}/constraints.txt
       -r{toxinidir}/requirements.txt
       -r{toxinidir}/test-requirements.txt
commands =
  pytest --cov --cov-config=.coveragerc test

[testenv:pycodestyle38]
basepython = python3.8
deps = -c{toxinidir}/constraints.txt
       -r{toxinidir}/requirements.txt
       pycodestyle
commands =
  pycodestyle

[testenv:pydocstyle38]
basepython = python3.8
deps = -c{toxinidir}/constraints.txt
       -r{toxinidir}/requirements.txt
       pydocstyle
commands =
  pydocstyle ccx_data_pipeline test

[testenv:pylint38]
basepython = python3.8
deps = -c{toxinidir}/constraints.txt
       -r{toxinidir}/requirements.txt
       -r{toxinidir}/test-requirements.txt
       pylint
commands =
  pylint ccx_data_pipeline test
